<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <style type="text/css">
      ol ul li {
        list-style: inside disc;
        padding-left: 1em;
        font-size: 90%;
      }
      ol ul {
        margin-bottom: 0;
      }
    </style>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Zen EE: A video encoding module and fieldtype for ExpressionEngine, powered by Zencoder.</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Zen EE</h1>
          <h2>A video encoding module and fieldtype for <a href="http://ellislab.com/expressionengine">ExpressionEngine</a>, powered by <a href="http://zencoder.com">Zencoder</a>.</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/juddlyon/zen-ee/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/juddlyon/zen-ee/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/juddlyon/zen-ee" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr />

        <section id="main_content">
         <!-- INSERT JS GALLERY OF SCREENSHOTS -->
         <!-- INSERT DEMO VIDEO INTO USAGE SECTION -->
          <ul>
            <li><a href="#faq">FAQ</a></li>
            <li><a href="#installation">Installation</a></li>
            <li><a href="#configuration">Configuration</a></li>
            <li><a href="#usage">Usage</a></li>
            <li><a href="#fieldtype">Using the Fieldtype</a></li>
            <li><a href="#support">Support</a></li>
          </ul>

          <h1 id="faq">FAQ</h1>
          <h3>What does Zen EE do?</h3>
          <p>Zen EE allows you to utilize Zencoder, a cloud-based video encoding service from within ExpressionEngine. It uses the power of cloud computing to quickly convert between video formats, all without hammering your server. <a href="http://zencoder.com/en/how-it-works" target="_blank">Learn how Zencoder works</a>.</p>

          <h3>What formats can be converted?</h3>
          <p><a href="https://app.zencoder.com/docs/faq/codecs-and-formats" target="_blank">Nearly anything</a> can be used as an input. For output we use WebM and MP4 for full HTML5 video support.</p>

          <h3>Why not just use YouTube/Vimeo/Wistia/Viddler/SublimeVideo?</h3>
          <p>Video hosting services are great in most cases, but a few reasons to self-host include:</p>
          <ul>
            <li><strong>Control</strong> over output formats and look-and-feel</li>
            <li><strong>Privacy</strong>, e.g. videos are behind a corporate firewall</li>
            <li><strong>Centralization:</strong> no need to leave the CMS to manage a third-party service</li>
          </ul>

          <h3>How does it work?</h3>
            <ol>
              <li><strong>Tell Zen EE where your input videos live.</strong> This can be an EE upload directory, any accessible directory on your server, or a public URL.</li>
              <li><strong>Tell Zen EE where you'd like the output videos to be placed.</strong> Output can be transported via SSH, FTP, or SFTP to your web server, Amazon S3, or Rackspace Cloud Files account.</li>
              <li><strong>Create an encoding job from the Zen EE admin</strong></li>
              <li><strong>Use the Zen EE fieldtype to select your desired video.</strong> Reference your video files, thumbnails, and meta information using EE's trademark templating.</li>
              <li><strong>That's it!</strong></li>
            </ol>

          <h3>What HTML5 video player(s) can I use?</h3>
          <p>We recommend <a href="http://videojs.com/">Video.js</a>, created by Steve Heffernan of Zencoder. Some alternatives include:</p>
          <ul>
            <li><a href="http://flowplayer.org/">Flowplayer</a></li>
            <li><a href="http://www.longtailvideo.com/jw-player/">JW Player</a></li>
            <li><a href="http://mediaelementjs.com/">MediaElement.js</a></li>
            <li><a href="http://html5video.org/wiki/Getting_Started_with_Kaltura_HTML5">Kaltura HTML5 Player</a>
          </ul>

          <h3>Who created this?</h3>
          <p><a href="https://github.com/juddlyon">Judd Lyon</a> &amp; <a href="https://github.com/sbrocher">Sebastian Brocher</a> for <a href="http://trifectainteractive.com">Trifecta Interactive</a>.</p>

          <h1 id="installation">Installation</h1>
            <ol>
              <li>Copy <em>third_party/zen_ee</em> to your ExpressionEngine <em>third_party</em> directory</li>
              <li>Click the install link (<em>Add-ons  &rarr; Modules &rarr; Zen EE &rarr; Install </em>)</li>
              <li>Install both the module and fieldtype</li>
            </ol>

          <h1 id="configuration">Configuration</h1>
          <ol>
            <li>Sign up for <a href="http://zencoder.com/" target="_blank">Zencoder</a>
                <ul>
                  <li>Create an API key: <em>API &rarr; Full Access API Keys &rarr; New Full Access Key</em></li>
                  <li>Copy your API key to the Zen EE API field on the Zen EE Settings screen</li>
                </ul>
            </li>
            <li>Add the server path to your input videos. This can be any publicly viewable directory such as an ExpressionEngine upload directory</li>
            <li>Add the URL of your input videos directory
            <li>Add the server path to your output videos. Supported protocols: FTP, SFTP, Rackspace Cloud Files, and Amazon S3. <a href="https://app.zencoder.com/docs/api/encoding/general-output-settings/url">Output API reference</a></li>
            <li>Add the URL of your output videos</li>
            <li>Test Mode:
              <ul>
                <li><em>On</em> = Zencoder jobs will be run in test mode. You will not incur charges. Videos will be shortened to 5 seconds and watermarked.</li>
                <li><em>Off</em> = production mode, you will incur charges. <a href="https://app.zencoder.com/docs/guides/getting-started/test-jobs-and-integration-mode">Test Mode API reference</a></li>
              </ul>
            </li>
          </ol>

          <h1 id="usage">Usage</h1>
          <h4>Creating an encoding job</h4>
          <ol>
            <li>Upload videos to your input video folder
            <ul>
              <li>You should now be able to view these in the <em>Videos</em> tab of the Zen EE Module</li>
              <li>Click <em>Encode</em> on the video you'd like to convert</li>
              <li>Enter a desired <em>Name</em>, <em>Video Width</em>,  <em>Video Height</em>, and the  <em>Thumbnail Time</em>. The <em>Thumbnail Time</em> is the second in the video where you'd like the thumbnail image generated from.</li>
            </ul>
          </li>
          <li>Click <em>Encode</em>, you should get a message saying <em>The video encoding job was successfully created.</em></li>
          <li>Select the <em>Jobs</em> tab to monitor the job. The <em>Job Status</em> column will indicate <em>Created</em>, <em>Finished</em>, or <em>Failed</em>.</li>
          <li><strong>Created</strong> means the job has been created and is in-progress. Refresh your browser occasionally to check the status.</li>
          <li><strong>Finished</strong> means the job is done and is available to your Fieldtype</li>
          <li><strong>Failed</strong> means something went wrong - log into your Zencoder account find out exactly what failed or try the job again. Usually this is an input or output path issue.</li>
        </ol>

        <h1 id="fieldtype">Using the Fieldtype</h1>
        <ol>
          <li>Create an ExpressionEngnine Fieldtype as usual and select <em>Zen EE</em> as the Type.</li>
          <li>Your Field will show a dropdown menu of all successful (<em>Finished</em>) encoding jobs. Simply select the one you'd like to insert into your page.</li>
        </ol>

        <h4>Template Tags</h4>
         <p>Your Zen EE custom field can be output as a tag pair. The following variables are available:</p>
         <ul>
            <li><strong>{thumb_url}:</strong> the thumbnail URL</li>
            <li><strong>{input_url}:</strong> the path to the original input file</li>
            <li><strong>{name}:</strong> the name you selected for your video</li>
            <li><strong>{zencoder_job_id}:</strong> useful in case you need to troubleshoot</li>
            <li><strong>{width}:</strong> the width you designated for the output video</li>
            <li><strong>{height}:</strong> the height you designated for the output video</li>
            <li><strong>{mp4_status}:</strong> the MP4 file's output status</li>
            <li><strong>{mp4_zencoder_job_output_id}:</strong> the job ID of the MP4 file</li>
            <li><strong>{mp4_url}:</strong> the URL to the MP4 output file</li>
            <li><strong>{webm_status}:</strong> the WebM file's output status</li>
            <li><strong>{webm_zencoder_job_output_id}:</strong> the job ID of the WebM file</li>
            <li><strong>{webm_url}:</strong> the URL to the WebM output file </li>
         </ul>

        <h4>Example using <a href="http://videojs.com">Video.js</a></h4>
        <ol>
          <li>
            <p>Include the following in your page HEAD:</p>
<pre><code>&lt;link href="http://vjs.zencdn.net/c/video-js.css" rel="stylesheet"&gt;<br>&lt;script src="http://vjs.zencdn.net/c/video.js"&gt;&lt;/script&gt;</code></pre>
          </li>
          <li>
          <p>Include the following in your page template. Adjust the Channel Entries tag as needed and use your Custom Field's actual name:</p>
<pre><code>{exp:channel:entries channel='test'}
  {zen_custom_field}
    &lt;h2&gt;{name}&lt;/h2&gt;
    &lt;video id="my_video_1" class="video-js vjs-default-skin" controls
      preload="auto" width="{width}" height="{height}" poster="{thumb_url}" data-setup="{}"&gt;
      &lt;source src="{mp4_url}" type='video/mp4'&gt;
      &lt;source src="{webm_url}" type='video/webm'&gt;
    &lt;/video&gt;
  {/zen_custom_field}
{/exp:channel:entries}
</code></pre>
        </li>
        <li>
          <strong>Note:</strong> you may need to add MP4 and WebM as MIMETYPES on your server.
          <h5><em>.htaccess</em> or <em>httpd.conf</em></h5>
          <pre><code>AddType video/mp4 .mp4<br />AddType video/webm .webm</code></pre>
        </li>
      </ol>

      <h1 id="support">Support</h1>
      <p>Feature suggestions and pull requests welcome! Please use the <a href="https://github.com/juddlyon/zen-ee/issues">issue tracker</a> for bugs.</p>

        <footer>
          Zen EE is maintained by <a href="https://github.com/juddlyon">juddlyon</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

      </div>
    </div>
  </body>
</html>